[gd_scene load_steps=7 format=3 uid="uid://main_scene"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_sky"]
sky_top_color = Color(0.4, 0.6, 0.9, 1)
sky_horizon_color = Color(0.7, 0.8, 0.95, 1)
ground_bottom_color = Color(0.2, 0.15, 0.1, 1)
ground_horizon_color = Color(0.5, 0.45, 0.4, 1)
sun_angle_max = 30.0
sun_curve = 0.1

[sub_resource type="Sky" id="Sky_main"]
sky_material = SubResource("ProceduralSkyMaterial_sky")
radiance_size = 2

[sub_resource type="Environment" id="Environment_main"]
background_mode = 2
sky = SubResource("Sky_main")

; === AMBIENT LIGHT (Baked-friendly) ===
ambient_light_source = 1
ambient_light_color = Color(0.4, 0.45, 0.5, 1)
ambient_light_sky_contribution = 0.5
ambient_light_energy = 0.3

; === TONEMAPPING (ACES for cinematic look) ===
tonemap_mode = 3
tonemap_exposure = 1.0
tonemap_white = 1.0

; === SSAO (Disabled - use baked AO instead) ===
ssao_enabled = false

; === SSIL (Disabled for mobile) ===
ssil_enabled = false

; === SDFGI (Disabled - use LightmapGI instead) ===
sdfgi_enabled = false

; === GLOW (Subtle bloom) ===
glow_enabled = true
glow_intensity = 0.4
glow_strength = 0.8
glow_mix = 0.1
glow_bloom = 0.1
glow_blend_mode = 0
glow_hdr_threshold = 0.8
glow_hdr_scale = 2.0
glow_hdr_luminance_cap = 8.0

; === FOG (Optional atmospheric) ===
fog_enabled = false
fog_light_color = Color(0.7, 0.75, 0.85, 1)
fog_light_energy = 0.5
fog_sun_scatter = 0.1

; === ADJUSTMENTS ===
adjustment_enabled = false

[sub_resource type="CameraAttributesPractical" id="CameraAttributes_main"]
auto_exposure_enabled = false
auto_exposure_scale = 1.0
auto_exposure_speed = 1.0
dof_blur_far_enabled = false
dof_blur_near_enabled = false

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_floor"]
albedo_color = Color(0.3, 0.32, 0.35, 1)
metallic = 0.0
roughness = 0.8
emission_enabled = false

[sub_resource type="BoxMesh" id="BoxMesh_floor"]
size = Vector3(10, 0.2, 10)

[node name="Main" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_main")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.866, -0.354, 0.354, 0, 0.707, 0.707, -0.5, -0.612, 0.612, 0, 8, 0)
light_color = Color(1, 0.98, 0.92, 1)
light_energy = 1.2
light_indirect_energy = 0.5
light_volumetric_fog_energy = 0.5
light_bake_mode = 2
shadow_enabled = true
shadow_bias = 0.02
shadow_normal_bias = 2.0
shadow_opacity = 0.9
shadow_blur = 1.0
directional_shadow_mode = 1
directional_shadow_split_1 = 0.15
directional_shadow_blend_splits = true
directional_shadow_fade_start = 0.8
directional_shadow_max_distance = 50.0

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.866, 0.5, 0, -0.5, 0.866, 0, 3, 6)
attributes = SubResource("CameraAttributes_main")
fov = 60.0
near = 0.1
far = 100.0

[node name="Floor" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.1, 0)
mesh = SubResource("BoxMesh_floor")
surface_material_override/0 = SubResource("StandardMaterial3D_floor")

[node name="LightmapGI" type="LightmapGI" parent="."]
quality = 1
bounces = 3
bounce_indirect_energy = 1.0
directional = true
use_denoiser = true
denoiser_strength = 0.1
interior = false
use_texture_for_bounces = true
bias = 0.0005
texel_scale = 1.0
max_texture_size = 2048
environment_mode = 1
environment_custom_color = Color(0.4, 0.45, 0.5, 1)
environment_custom_energy = 0.3

[node name="ReflectionProbe" type="ReflectionProbe" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0)
update_mode = 0
intensity = 1.0
max_distance = 50.0
size = Vector3(20, 10, 20)
origin_offset = Vector3(0, 0, 0)
box_projection = true
interior = false
enable_shadows = false
cull_mask = 1048575
mesh_lod_threshold = 1.0
ambient_mode = 1
ambient_color = Color(0.4, 0.45, 0.5, 1)
ambient_color_energy = 0.3
